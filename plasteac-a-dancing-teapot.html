<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Chapelier Fou</title>

    <!-- Meta -->
    <meta name="description" content="Chapelier Fou &ndash; Asocial networks">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0">
    <meta name="author" content="Paul-Louis Ageneau">
    <meta property="article:section" content="Robotics">
    <meta property="article:published_time" content="2017-04-18">

    <!-- Style -->
    <link rel="stylesheet" href='https://blog.chapelierfou.org/theme/css/style.css' type="text/css">
    <link rel="stylesheet" href='https://blog.chapelierfou.org/theme/css/pygments-highlight.css' type="text/css">

    <!-- Icon -->

    <!-- Feed -->
    <link href="https://blog.chapelierfou.org/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="Chapelier Fou Atom Feed">
    <link href="https://blog.chapelierfou.org/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="Chapelier Fou RSS Feed">
</head>
<body id="index" class="blog">
<div id="container" class="hfeed">
    <header id="header" >
        <div id="logo">
            <h1><a href="https://blog.chapelierfou.org"><img src="https://blog.chapelierfou.org/theme/image/logo.png" alt="Chapelier Fou"></a></h1>
        </div>
        <nav id="menu" class="main-nav"><ul class="menu">
        </ul></nav>
    </header>
    <section id="wrapper" class="clearfix">
        <section id="content">

<section id="post" class="post hentry">
    <header>
    <h2 class="post-title" >Plasteac: a dancing teapot</h2>
    
    <div class="post-meta">
        <span class="post-date">18/04/2017</span>
        <span class="meta-prep"> | Category:</span>
        <a class="category" href="https://blog.chapelierfou.org/category/robotics.html">Robotics</a>
        <span class="meta-prep"> | Tags: </span>
            <a class="tag" href="https://blog.chapelierfou.org/tag/3d-printing.html">3D Printing</a>,             <a class="tag" href="https://blog.chapelierfou.org/tag/arduino.html">Arduino</a>    </div>
    </header>
    <div class="post-entry">
        <p>The <a class="reference external" href="https://www.thingiverse.com/thing:43708">Bob robot</a>, itself
remixed from the <a class="reference external" href="https://www.thingiverse.com/thing:19594">Arduped
robot</a>, inspired an
impressive number of clones with its really good design.</p>
<p>The most famous ones might be
<a class="reference external" href="https://www.thingiverse.com/thing:747010">Zowi</a>, and more recently
<a class="reference external" href="https://www.thingiverse.com/thing:1568652">Otto</a>. They are both
simple, cheap, open-source and 3D-printed little robots which have
refined Bob two-legged design.</p>
<p>Yet, I am not a fan of their strange square heads. What I would like is
a teapot. A dancing teapot.</p>
<p>I chose to design 3D-printed parts from scratch, not only because I
prefer to use <a class="reference external" href="http://www.openscad.org/">OpenSCAD</a> over FreeCAD, but
also because the design of the top part will be entierly different
anyway. Also, for once, it will be powered by a 9-volt alkaline battery
rather than a lipo battery.</p>
<div class="figure">
<a class="reference external image-reference" href="https://blog.chapelierfou.org/images/plasteac_model.png"><img alt="3D models forming the robotic teapot" src="https://blog.chapelierfou.org/images/plasteac_model.png" /></a>
<p class="caption">3D models forming the robotic teapot</p>
</div>
<p>You can download the SCAD source files (licensed under
<a class="reference external" href="https://www.gnu.org/licenses/gpl-3.0.en.html">GPLv3</a>) and the
corresponding STL files
<a class="reference external" href="https://blog.chapelierfou.org/files/plasteac_models.zip">here</a> or on <a class="reference external" href="https://github.com/paullouisageneau/plasteac/tree/master/models">my
GitHub
repository</a>.
I printed them with white
<a class="reference external" href="https://en.wikipedia.org/wiki/Polylactic_acid">PLA</a>, not the
fanciest color but the perfect one for a teapot.</p>
<div class="figure">
<a class="reference external image-reference" href="https://blog.chapelierfou.org/images/IMG_20170417_164518.jpg"><img alt="The components ready to assemble" src="https://blog.chapelierfou.org/images/IMG_20170417_164518-small.jpg" /></a>
<p class="caption">The components are ready to assemble</p>
</div>
<p>You might have recognized the shape of the famous <a class="reference external" href="https://en.wikipedia.org/wiki/Utah_teapot">Utah
teapot</a>! However, this
is a subdivided and smoother model since the original is low-poly.</p>
<p>I'll use the following components:</p>
<ul class="simple">
<li>A 5-volt <a class="reference external" href="https://www.arduino.cc/en/Main/ArduinoBoardProMini">Arduino Pro
Mini</a> board
(<a class="reference external" href="http://www.ebay.com/sch/ATmega328P%205V%2016Mhz">a compatible
clone</a> is fine)</li>
<li>A <a class="reference external" href="http://www.ebay.com/sch/5V%20UBEC">5-volt switching regulator</a>,
also called
<a class="reference external" href="https://oscarliang.com/what-is-esc-ubec-bec-quadcopter/">UBEC</a> in
the hobbyist world. Don't use a <a class="reference external" href="https://en.wikipedia.org/wiki/Voltage_regulator#Linear_regulators">linear
regulator</a>,
as it would be really inefficient here.</li>
<li>Four <a class="reference external" href="http://www.ebay.com/sch/3.7g%20servo">3.7g micro servos</a>,
H301 or compatible</li>
<li>A <a class="reference external" href="http://www.ebay.com/sch/9V%20battery%20connector">9-volt battery
connector</a> (with
of course a 9-volt battery)</li>
<li>A <a class="reference external" href="http://www.ebay.com/sch/CP2102">USB to UART bridge</a> to program
the robot</li>
<li>Dupont wires, M2 screws, pins, prototype board, and glue</li>
<li>Optional: A <a class="reference external" href="http://ebay.com/sch/piezo%20passive%20sounder">piezo
sounder</a> to play
music</li>
</ul>
<p>The first step is to screw the two hip servos on top of the platform.</p>
<div class="figure">
<a class="reference external image-reference" href="https://blog.chapelierfou.org/images/IMG_20170417_165046.jpg"><img alt="The hip joint servos attached to the platform" src="https://blog.chapelierfou.org/images/IMG_20170417_165046-small.jpg" /></a>
<p class="caption">The hip joint servos attached to the platform</p>
</div>
<p>Then, I soldered a small power distribution board with a piece of
prototype board and some pins. The servos are connected and powered with
the voltage regulator. The signal pins of the servos will be connected
to the Arduino pins 5, 6, 7, and 8. The Arduino board power is also
connected to this board.</p>
<div class="figure">
<a class="reference external image-reference" href="https://blog.chapelierfou.org/images/IMG_20170417_171109.jpg"><img alt="One of the servos connected to the power distribution board" src="https://blog.chapelierfou.org/images/IMG_20170417_171109-small.jpg" /></a>
<p class="caption">One of the servos connected to the power distribution board</p>
</div>
<p>Next, the two legs are attached to the hip servos. The servo arm is
clipped inside each leg then screwed, maintaining the leg in position. A
drop of oil helps the legs rotate smoothly against the body.</p>
<div class="figure">
<a class="reference external image-reference" href="https://blog.chapelierfou.org/images/IMG_20170417_185024.jpg"><img alt="Legs connected to the body" src="https://blog.chapelierfou.org/images/IMG_20170417_185024-small.jpg" /></a>
<p class="caption">Legs connected to the body</p>
</div>
<p>Then, the ankle servos are placed in the legs and secured with M2 screws
on the top part of the leg, and foots are simply clipped to the ankles!</p>
<div class="figure">
<a class="reference external image-reference" href="https://blog.chapelierfou.org/images/IMG_20170417_185335.jpg"><img alt="Ankle servos placed in the legs" src="https://blog.chapelierfou.org/images/IMG_20170417_185335-small.jpg" /></a>
<p class="caption">Ankle servos placed in the legs</p>
</div>
<div class="figure">
<a class="reference external image-reference" href="https://blog.chapelierfou.org/images/IMG_20170417_190602.jpg"><img alt="Foots clipped to the ankles" src="https://blog.chapelierfou.org/images/IMG_20170417_190602-small.jpg" /></a>
<p class="caption">Foots clipped to the ankles</p>
</div>
<p>To prevent a complete cable mess, I tried to attach the electronics to
the platform with sticky tack and clamping rings.</p>
<div class="figure">
<a class="reference external image-reference" href="https://blog.chapelierfou.org/images/IMG_20170417_193811.jpg"><img alt="Electronics attached on the platform" src="https://blog.chapelierfou.org/images/IMG_20170417_193811-small.jpg" /></a>
<p class="caption">Electronics attached on the platform</p>
</div>
<p>The teapot-shaped top is put onto the platform and glued. Everything
should fit nicely inside of it. The 9-volt battery connector, soldered
to the voltage regulator, is ready to host the battery.</p>
<div class="figure">
<a class="reference external image-reference" href="https://blog.chapelierfou.org/images/IMG_20170417_195040.jpg"><img alt="Arduino board connected and body glued on the platform" src="https://blog.chapelierfou.org/images/IMG_20170417_195040-small.jpg" /></a>
<p class="caption">Arduino board connected and body glued on the platform</p>
</div>
<p>Finally, the last touch: the lid is clipped on top!</p>
<div class="figure">
<a class="reference external image-reference" href="https://blog.chapelierfou.org/images/IMG_20170417_194450_fixed.jpg"><img alt="The robot is fully assembled and ready to be programmed!" src="https://blog.chapelierfou.org/images/IMG_20170417_194450_fixed-small.jpg" /></a>
<p class="caption">The robot is fully assembled and ready to be programmed!</p>
</div>
<p>Now that the robot is built, let's program it!</p>
<p>The structure is a classic Arduino program with <tt class="docutils literal">setup()</tt> and
<tt class="docutils literal">loop()</tt> functions. Two functions <tt class="docutils literal">left(int hip, int foot)</tt> and
<tt class="docutils literal">right(int hip, int foot)</tt> allow to move the legs by changing the
angles of the corresponding servos. Offsets are added to the angles so
the zero corresponds exactly to the right position.</p>
<div class="highlight"><pre><span></span><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;Servo.h&gt;</span>

<span class="c1">// ---------- Pin setup ----------</span>
<span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">servoPins</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">};</span>

<span class="c1">// -------- Servo offsets --------</span>
<span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">leftHipOffset</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">rightHipOffset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span>
<span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">leftFootOffset</span><span class="w">  </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>
<span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">rightFootOffset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">10</span><span class="p">;</span>

<span class="c1">// The four servos</span>
<span class="n">Servo</span><span class="w"> </span><span class="n">servos</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>

<span class="c1">// Move left leg</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">left</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">hip</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">foot</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">servos</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">write</span><span class="p">(</span><span class="mi">90</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">hip</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">leftHipOffset</span><span class="p">));</span>
<span class="w">  </span><span class="n">servos</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">write</span><span class="p">(</span><span class="mi">90</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="p">(</span><span class="n">foot</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">leftFootOffset</span><span class="p">));</span>
<span class="p">}</span>

<span class="c1">// Move right leg</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">right</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">hip</span><span class="p">,</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">foot</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">  </span><span class="n">servos</span><span class="p">[</span><span class="mi">1</span><span class="p">].</span><span class="n">write</span><span class="p">(</span><span class="mi">90</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">hip</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rightHipOffset</span><span class="p">));</span>
<span class="w">  </span><span class="n">servos</span><span class="p">[</span><span class="mi">3</span><span class="p">].</span><span class="n">write</span><span class="p">(</span><span class="mi">90</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="p">(</span><span class="n">foot</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rightFootOffset</span><span class="p">));</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">setup</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">  </span><span class="c1">// Init serial</span>
<span class="w">  </span><span class="n">Serial</span><span class="p">.</span><span class="n">begin</span><span class="p">(</span><span class="mi">9600</span><span class="p">);</span>

<span class="w">  </span><span class="c1">// Init servos</span>
<span class="w">  </span><span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;</span><span class="mi">4</span><span class="p">;</span><span class="w"> </span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="w">    </span><span class="n">servos</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">attach</span><span class="p">(</span><span class="n">servoPins</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>

<span class="w">  </span><span class="n">left</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">  </span><span class="n">right</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">  </span><span class="n">delay</span><span class="p">(</span><span class="mi">4000</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">loop</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">  </span><span class="p">[...]</span>
<span class="p">}</span>
</pre></div>
<p>I wrote a <tt class="docutils literal">sync()</tt> function to synchronize action to the beat. Each
time it is called, it waits for the next quarter of a beat to end. In
musical terms, it corresponds to a sixteenth note, or semiquaver. The
function <tt class="docutils literal">nsync(unsigned int count)</tt> waits for <tt class="docutils literal">count</tt> quarters of a
beat. For instance <tt class="docutils literal">rsync(4)</tt> waits for one beat, <em>i.e.</em>, half a
second if the BPM is 120.</p>
<p>This is better than simply using <tt class="docutils literal">delay()</tt> because it takes into
account the potential processing time between calls to <tt class="docutils literal">sync()</tt>.
Moreover, it could be used to do some processing on each quarter of a
beat, like playing music.</p>
<div class="highlight"><pre><span></span><span class="kt">long</span><span class="w"> </span><span class="n">bpm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">120L</span><span class="p">;</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">sync</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">  </span><span class="c1">// Given set BPM, delay until the next quarter of a beat</span>
<span class="w">  </span><span class="k">static</span><span class="w"> </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">lastMillis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="w">  </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">duration</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">60000L</span><span class="o">/</span><span class="p">(</span><span class="n">bpm</span><span class="o">*</span><span class="mi">4</span><span class="p">);</span>
<span class="w">  </span><span class="kt">long</span><span class="w"> </span><span class="n">leftMillis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">lastMillis</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">duration</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">millis</span><span class="p">();</span>
<span class="w">  </span><span class="k">if</span><span class="p">(</span><span class="n">leftMillis</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"> </span><span class="n">delay</span><span class="p">(</span><span class="n">leftMillis</span><span class="p">);</span>
<span class="w">  </span><span class="n">lastMillis</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">millis</span><span class="p">();</span>

<span class="w">  </span><span class="c1">// We could play music notes here</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="nf">nsync</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">count</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">  </span><span class="c1">// Call count times sync</span>
<span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="n">count</span><span class="o">--</span><span class="p">)</span>
<span class="w">    </span><span class="n">sync</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
<p>Now the synchronization functions are available, we can write some
choregraphy.</p>
<div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"> </span><span class="nf">hello_left</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">cycles</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">15</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">b</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">60</span><span class="p">;</span>
<span class="w">  </span><span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">20</span><span class="p">;</span>

<span class="w">  </span><span class="c1">// Lean over</span>
<span class="w">  </span><span class="n">left</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="n">b</span><span class="p">);</span>
<span class="w">  </span><span class="n">right</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">);</span>
<span class="w">  </span><span class="n">nsync</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span><span class="w">      </span><span class="c1">// 2 beats</span>
<span class="w">  </span><span class="n">left</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">  </span><span class="n">right</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="o">+</span><span class="mi">5</span><span class="p">);</span>
<span class="w">  </span><span class="n">nsync</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w">      </span><span class="c1">// 1 beat</span>

<span class="w">  </span><span class="c1">// Move foot in rythm</span>
<span class="w">  </span><span class="k">while</span><span class="p">(</span><span class="n">cycles</span><span class="o">--</span><span class="p">)</span>
<span class="w">  </span><span class="p">{</span>
<span class="w">    </span><span class="n">left</span><span class="p">(</span><span class="o">-</span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">right</span><span class="p">(</span><span class="o">-</span><span class="n">c</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="o">+</span><span class="mi">10</span><span class="p">);</span>
<span class="w">    </span><span class="n">nsync</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w">    </span><span class="c1">// 1 beat</span>
<span class="w">    </span><span class="n">left</span><span class="p">(</span><span class="n">c</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">    </span><span class="n">right</span><span class="p">(</span><span class="n">c</span><span class="o">/</span><span class="mi">4</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="o">+</span><span class="mi">10</span><span class="p">);</span>
<span class="w">    </span><span class="n">nsync</span><span class="p">(</span><span class="mi">4</span><span class="p">);</span><span class="w">    </span><span class="c1">// 1 beat</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// Back to standing position</span>
<span class="w">  </span><span class="n">left</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">  </span><span class="n">right</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="n">a</span><span class="p">);</span>
<span class="w">  </span><span class="n">nsync</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w">    </span><span class="c1">// 1/2 beat</span>
<span class="w">  </span><span class="n">left</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">  </span><span class="n">right</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">);</span>
<span class="w">  </span><span class="n">nsync</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span><span class="w">    </span><span class="c1">// 1/2 beat</span>
<span class="p">}</span>
</pre></div>
<p>Eventually, the teapot dances in rythm!</p>
<img alt="The teapot dancing!" src="https://blog.chapelierfou.org/images/teapot_dancing.gif" style="width: 660px;" />
<p>The complete source for the project is available on <a class="reference external" href="https://github.com/paullouisageneau/plasteac">my repository on
GitHub</a>.</p>
<p>In <a class="reference external" href="https://blog.chapelierfou.org/playing-music-on-arduino.html">the next
article</a>,
I'm adding music playing support to the robot by connecting a <a class="reference external" href="http://ebay.com/sch/piezo%20passive%20sounder">piezo
sounder</a>!</p>
<p>You can also read <a class="reference external" href="https://blog.chapelierfou.org/plasteac-enhancements.html">this
article</a>
about the enhanced teapot lid featuring a battery switch.</p>

    </div>
</section>
        </section>
        <section id="widgets">
            <section id="widget-category" class="widget-wrapper">
                <div class="widget-title">
                    Categories
                </div>
                <ul>
                        <li><a href="https://blog.chapelierfou.org/category/hardware.html" >Hardware </a></li>
                        <li><a href="https://blog.chapelierfou.org/category/networks.html" >Networks </a></li>
                        <li><a href="https://blog.chapelierfou.org/category/robotics.html" >Robotics </a></li>
                </ul>
            </section>

            <section id="widget-tags" class="widget-wrapper">
                <div class="widget-title">
                    Tags
                </div>
                <div>
                <ul>
                       <li><a href="https://blog.chapelierfou.org/tag/raspberry-pi.html">Raspberry Pi</a></li>
                       <li><a href="https://blog.chapelierfou.org/tag/furby.html">Furby</a></li>
                       <li><a href="https://blog.chapelierfou.org/tag/vintage.html">Vintage</a></li>
                       <li><a href="https://blog.chapelierfou.org/tag/arduino.html">Arduino</a></li>
                       <li><a href="https://blog.chapelierfou.org/tag/3d-printing.html">3D Printing</a></li>
                       <li><a href="https://blog.chapelierfou.org/tag/minitel.html">Minitel</a></li>
                       <li><a href="https://blog.chapelierfou.org/tag/networking.html">Networking</a></li>
                       <li><a href="https://blog.chapelierfou.org/tag/webrtc.html">WebRTC</a></li>
                       <li><a href="https://blog.chapelierfou.org/tag/video.html">Video</a></li>
                       <li><a href="https://blog.chapelierfou.org/tag/music.html">Music</a></li>
                       <li><a href="https://blog.chapelierfou.org/tag/iptables.html">iptables</a></li>
                       <li><a href="https://blog.chapelierfou.org/tag/vpn.html">VPN</a></li>
                </ul>
                </div>
            </section>
            <section id="widget-feeds" class="widget-wrapper">
                <div class="widget-title">
                    Feeds
                </div>
                <ul>
                        <li><a href="https://blog.chapelierfou.org/feeds/atom.xml">Atom</a></li>
                        <li><a href="https://blog.chapelierfou.org/feeds/rss.xml">RSS</a></li>
                </ul>
            </section>
            <section id="widget-links" class="widget-wrapper">
                <div class="widget-title">
                    Links
                </div>
                <ul>
                        <li><a href="https://ageneau.org/paul-louis/">Personal page</a></li>
                        <li><a href="https://github.com/paullouisageneau/">GitHub page</a></li>
                        <li><a href="https://twitter.com/plajno">Twitter @plajno</a></li>
                        <li><a href="http://nc233.com/">NC233</a></li>
                </ul>
            </section>
            <div class="sponsor">
                <iframe src="https://github.com/sponsors/paullouisageneau/button" title="Sponsor paullouisageneau" height="35" width="116" style="border: 0;"></iframe>
                <div class="liberapay"><a href="https://liberapay.com/paullouisageneau/donate"><img alt="Donate using Liberapay" src="https://liberapay.com/assets/widgets/donate.svg"></a></div>
                <div class="ko-fi"><a href='https://ko-fi.com/A0A8CIDHU' target='_blank'><img height='36' style='border:0px;height:36px;' src='https://cdn.ko-fi.com/cdn/kofi3.png?v=3' border='0' alt='Buy Me a Coffee at ko-fi.com' /></a></div>
            </div>
            <div class="copyright" >
                <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license">
                    <img src="https://blog.chapelierfou.org/theme/image/by-nc-sa.png" alt="License CC BY-NC-SA 3.0">
                </a>
            </div>
        </section>
    </section>
    <footer id="footer" class="clearfix"><section class="footer-wrapper">
        <div class="powered">
            Powered by <a href="https://getpelican.com/">Pelican</a>
        </div>
    </section></footer>
</div>
<!-- Piwik -->
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(["setCookieDomain", "*.chapelierfou.org"]);
  _paq.push(["setDomains", ["*.chapelierfou.org"]]);
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//ageneau.org/pw/";
    _paq.push(['setTrackerUrl', u+'pw.php']);
    _paq.push(['setSiteId', 1]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'pw.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript><p><img src="//ageneau.org/pw/pw.php?idsite=1" style="border:0;" alt="" /></p></noscript>
<!-- End Piwik Code -->
</body>
</html>